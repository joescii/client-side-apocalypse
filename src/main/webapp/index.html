<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=1024" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <title>client-side-apocalypse</title>

  <meta name="description" content="My Presentera project" />
  <meta name="author" content="Joe Barnes" />

  <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet" />


  <link href="/css/impress.css" rel="stylesheet" />

  <link rel="shortcut icon" href="favicon.png" />
  <link rel="apple-touch-icon" href="apple-touch-icon.png" />
</head>

<body class="impress-not-supported">


<div class="fallback-message">
  <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
  <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
</div>

<div id="impress">


  <div id="title" class="step">
    <h1>The Client-Side Apocalypse</h1>
    <h2>Joe Barnes</h2>
    <h2>@joescii</h2>
    <h3 id="follow">Follow along at http://<span data-lift="Host">localhost</span></h3>
    <div>Powered by</div>
    <img src="images/liftweb-logo-single-small2.png">
    <img class="right aol-platforms" src="images/Aol.png">
  </div>

  <div id="about-me" class="step" data-y="-2000">
    <ul class="bulleted">
      <li>Started Scala in 2012</li>
      <li>Built PartQuest.com 2014-16</li>
      <li>Developed lift-ng in parallel</li>
      <li>Lift committer 2015</li>
      <li>Currently backend and devops for go90 at AOL</li>
    </ul>
  </div>

  <div id="wikipedia" class="step" data-x="-4000" data-y="-2000">
    <h1>ἀποκάλυψις</h1>
    <div>An apocalypse, translated literally from Greek, is</div>
    <div><i>through the concealed</i></div>
    <div>meaning a disclosure of knowledge, i.e.,</div>
    <div>a lifting of the veil or revelation.</div>
    <div><i>-wikipedia</i></div>
  </div>


  <!-- Three round-trips -->
  <div id="what-happens" class="step" data-x="-4000" data-y="-4000">
    So what happens when we render client-side?
  </div>

  <div id="initial-request" class="step browser-view" data-x="-8000" data-y="-4000">
  </div>


  <!-- Get HTML -->
  <div class="visible left-arrow" data-x="-10750" data-y="-3000" data-z="-500">
    <img src="images/arrow.png">
  </div>

  <div id="html-request" class="step" data-x="-11000" data-y="-3000">
    <div class="centered">http://youraddress.com</div>
  </div>

  <div id="html-request-received" class="step" data-x="-14000" data-y="-2000">
    <img class="centered" src="images/cloud-server.png">
  </div>

  <div class="visible right-arrow" data-x="-10750" data-y="-1000" data-z="-500">
    <img src="images/arrow.png">
  </div>

  <div id="html-response" class="step" data-x="-11000" data-y="-1000">
    <div class="centered" data-lift="Code?src=/webapp/skeleton.html"></div>
  </div>

  <div id="first-response" class="step browser-view" data-x="-8000">
  </div>


  <!-- Get javascript -->
  <div class="visible left-arrow" data-x="-10750" data-y="1000" data-z="-500">
    <img src="images/arrow.png">
  </div>

  <div id="js-request" class="step" data-x="-11000" data-y="1000">
    <div class="centered">important-crap.js</div>
  </div>

  <div id="js-request-received" class="step" data-x="-14000" data-y="2000">
    <img class="centered" src="images/cloud-server.png">
  </div>

  <div class="visible right-arrow" data-x="-10750" data-y="3000" data-z="-500">
    <img src="images/arrow.png">
  </div>

  <div id="js-response" class="step" data-x="-11000" data-y="3000">
    <div class="centered" data-lift="Code?src=/webapp/js/important-crap.js"></div>
  </div>

  <div id="second-response" class="step browser-view" data-x="-8000" data-y="4000">
  </div>


  <!-- Get AJAX stuff -->
  <div class="visible left-arrow" data-x="-9750" data-y="5000" data-z="-1000">
    <img src="images/arrow.png">
  </div>

  <div id="ajax-request" class="step" data-x="-10000" data-y="5000">
    <div class="centered">/actual-important-crap</div>
  </div>

  <div id="ajax-request-received" class="step" data-x="-14000" data-y="6000">
    <img class="centered" src="images/cloud-server.png">
  </div>

  <div class="visible right-arrow" data-x="-10750" data-y="7000" data-z="-500">
    <img src="images/arrow.png">
  </div>

  <div id="ajax-response" class="step" data-x="-11000" data-y="7000">
    <div class="centered" data-lift="Code?src=/webapp/js/crap.json"></div>
  </div>

  <div id="third-response" class="step browser-crap-view" data-x="-8000" data-y="8000">
  </div>



  <!-- Spinner -->
  <div id="keep-em-entertained" class="step" data-x="-11000" data-y="10000">
    <div>Keep 'em entertained with a spinner!</div>
    <div>(Don't mention we had to fetch it too)</div>
  </div>

  <div id="sbtb" class="step img-only" data-x="-8000" data-y="10000">
    <img src="images/sbtb.png">
  </div>

  <!-- Fast and reliable -->
  <div id="no-big-deal" class="step" data-x="-5000" data-y="10000">
    No big deal, it's 2016 and the internet is fast and reliable
  </div>

  <div id="mbps-and-fiber" class="step centered img-row" data-x="-2000" data-y="10000">
    <div>2016 internet</div>
    <img src="images/cloud-server.png">
    <img src="images/google-fiber.jpg">
    <img src="images/mbp.jpg">
  </div>

  <div id="real-internet" class="step centered img-row" data-x="1000" data-y="10000">
    <div>Somewhere IRL, probably</div>
    <img src="images/cloud-server.png">
    <img src="images/wiring.jpg">
    <img src="images/blackberry.png">
  </div>

  <div id="inflight-wifi" class="step centered img-row" data-x="1000" data-y="8000">
    <div>True story</div>
    <img src="images/cloud-server.png">
    <img src="images/inflight-wifi.jpg">
    <img src="images/mbp.jpg">
  </div>


  <!-- Complexity -->
  <div id="even-if" class="step" data-x="4000" data-y="8000">
    Even if the internet WAS always fast and reliable...
  </div>

  <div id="complexity" class="step img-only centered" data-x="7000" data-y="8000">
    <img src="images/complexity.png">
  </div>

  <div id="js-love" class="step" data-x="7000" data-y="10000">
    Who here loves JS???
  </div>

  <div id="scala-js" class="step img-only centered" data-x="7000" data-y="11000" data-z="500">
    <div>NO ONE!!!</div>
    <img src="images/scala-js.png">
    <div>Thank you, Sébastien!</div>
  </div>

  <div id="transpiling" class="step" data-x="7000" data-y="13000">
    <ul class="bulleted">
      <li>Transpilation => Bloated JS payload</li>
      <li>Not a compiled langauge</li>
      <li>Transmitted and distributed globally</li>
      <li>To inefficient devices producing heat</li>
    </ul>
  </div>

  <div id="global-warming" class="step img-only centered" data-x="4000" data-y="12000">
    <div>Global warming...</div>
    <img src="images/global-warming.jpg">
    <div>...and it is YOUR fault</div>
  </div>


  <!-- Progressive enhancement -->
  <div id="seriously-tho" class="step" data-x="1000" data-y="12000">
    <div>Jokes aside, lots of opportunities for failure</div>
    <div>What if any of those round-trips fail?</div>
  </div>

  <div id="progressive-enhancement" class="step" data-x="1000" data-y="16000">
    <div>Progressive enhancement</div>
    <ul class="bulleted">
      <li>The HTML alone *just works*</li>
      <li>If other capabilities are available, it works better</li>
    </ul>
  </div>

  <div id="did-you-know1" class="step" data-x="-2000" data-y="16000">
    <div>For instance... did you know...</div>
    <div>a browser can redirect without javascript?</div>
    <div>See <span class="code">&lt;a href="(url)"&gt;</span></div>
  </div>

  <div id="did-you-know2" class="step" data-x="-2000" data-y="12000">
    <div>Did you know...</div>
    <div>a browser can send data without javascript?</div>
    <div>See <span class="code">&lt;form&gt;</span></div>
  </div>


  <!-- Principle of least power -->
  <div id="three-asset-types" class="step" data-x="-5000" data-y="14000">
    <div>Three things you can send to define your application:</div>
    <ul class="bulleted">
      <li>HTML</li>
      <li>JavaScript</li>
      <li>Cascading Style Sheets</li>
    </ul>
    <div>How do they compare in terms of capability/power?</div>
  </div>

  <div id="js-most-powerful" class="step" data-x="-5000" data-y="12000">
    <div>Clearly JS is the most powerful</div>
    <div>So that's what we should use, right?</div>
  </div>

  <div id="no" class="step centered" data-x="-5000" data-y="13000" data-z="1000">
    <img src="images/no.jpg">
  </div>

  <div id="runar" class="step img-only centered" data-x="-8000" data-y="14000">
    <img src="images/runar.jpg">
  </div>

  <div id="rule-of-least-power" class="step" data-x="-8000" data-y="12000">
    <div>Rule of Least Power</div>
    <div><i>[choose] the least powerful language suitable for a given purpose</i></div>
    <div class="right">- W3C "The Rule of Least Power"</div>
  </div>

  <div id="only-useful-for" class="step" data-x="-11000" data-y="12000">
    Client-side rendered apps are only useful for a human with a powerful heat-producing device on a reliable network.
  </div>

  <div id="applets-and-flash" class="step centered img-row" data-x="-11000" data-y="14000">
    <div>Kinda like applets and flash!</div>
    <img src="images/applet.jpg">
    <img src="images/flash.png">
  </div>

  <div id="seo" class="step" data-x="-11000" data-y="16000">
    Other consumers such as search engines, blog readers, etc. can't readily consume your content
  </div>



  <!-- State synchronization -->
  <div id="client-state" class="step" data-x="-11000" data-y="18000">
    <div>Do we <i>really</i> want a stateful client??</div>
    <div>Effectively gives us a distributed system</div>
  </div>

  <div id="synchrnoization" class="step" data-x="-14000" data-y="18000">
    <div><i>Synchronizing data in a distributed system is an enormous challenge</i></div>
    <div class="right">- Rylan Dirksen, 8th Light</div>
  </div>

  <div id="background" class="step" data-x="-19000" data-y="18000">
    Anybody here like to update the view and tell the server in the background?
  </div>

  <div id="what-if-it-fails" class="step" data-x="-14000" data-y="16000">
    What if that fails?
  </div>

  <div id="non-tech-user" class="step" data-x="-19000" data-y="16000">
    <div>And your user isn't tech savvy</div>
    <div>And they're using AOL dialup?</div>
  </div>

  <div id="gun-cleaner" class="step" data-x="-19000" data-y="14000">
    <div>And they're ordering THIS!</div>
    <img src="images/gun-cleaning.png">
  </div>

  <div id="insistence" class="step centered" data-x="-14000" data-y="12000">
    <div>And you <i>insist</i> you put it in the cart</div>
    <img src="images/shopping-cart.png">
  </div>

  <div id="empty" class="step centered" data-x="-14000" data-y="10000">
    <div>Upon searching for something else, the cart is empty!</div>
    <img src="images/empty-cart.png">
  </div>

  <div id="think" class="step" data-x="-19000" data-y="12000">
    Now what do you expect this user to think?
  </div>

  <div id="bitch" class="step centered" data-x="-19000" data-y="10000">
    <div>BITCH SNATCHED IT FROM MY BUGGY!!!</div>
    <img src="images/fight.gif">
  </div>

  <div id="armed" class="step" data-x="-19000" data-y="8000">
    Oh and she was buying a gun cleaning kit...
  </div>


  <!-- User trust -->
  <div id="facebook" class="step" data-x="-22000" data-y="6000">
    What if instead of depending on facebook to teach the world to not trust web apps...
  </div>

  <div id="trustworthy" class="step" data-x="-27000" data-y="6000">
    ...we built trust worthy apps?
  </div>


  <!-- Lift, y'all -->
  <div id="we-can" class="step" data-x="-22000" data-y="8000">
    It turns out we can write such apps and enjoy writing them
  </div>

  <div id="review" class="step" data-x="-27000" data-y="10000">
    Review of problems:
    <ul class="bulleted">
      <li>Multiple round trips, app can fail</li>
      <li>Be slow to render when not failing</li>
      <li>Creates state to synchronize</li>
      <li>Can confuse users, eroding trust</li>
    </ul>
  </div>

  <div id="features" class="step" data-x="-27000" data-y="8000">
    <div>Lift avoids these problems</div>
    <ul class="bulleted">
      <li>render fully-functional HTML from the server</li>
      <li>progressively enhance it with JS/CSS</li>
      <li>state belongs safely on the server, not on an uncontrolled client</li>
      <li>updates easily applied <i>after</i> round trip to server</li>
    </ul>
  </div>

  <div id="client-updates" class="step" data-x="-22000" data-y="10000">
    <div>But client updates were never fun in Lift...</div>
  </div>

  <div id="on-your-own" class="step" data-x="-22000" data-y="12000">
    <div>Excellent support for both ajax and async pushes...</div>
    <div>...but you're on your own to manipulate the DOM</div>
  </div>

  <div id="lift-ng" class="step" data-x="-27000" data-y="12000">
    That's why we built lift-ng to make Angular a breeze with Lift
  </div>

  <div id="bryan" class="step centered" data-x="-30000" data-y="10000">
    <div>While speaking with Bryan Powell creator of Pakyow, I had an idea...</div>
    <img src="images/mind-blown.gif">
  </div>

  <div id="vdom" class="step img-only centered" data-x="-30000" data-y="12000">
    <img src="images/sponge-bob.jpg">
  </div>

  <div id="dom-manip" class="step" data-x="-33000" data-y="12000">
    <div>Most Lift DOM manipulation is to reflect state changes on the server</div>
    <div>Why not do this automagically?</div>
  </div>

  <div id="react" class="step" data-x="-30000" data-y="14000">
    <div>Like React.js, just write code to convert application state into desired view</div>
  </div>

  <div id="one-function" class="step" data-x="-27000" data-y="14000">
    To update the view when the application state changes, simply call one side-effecting function.
  </div>

  <div id="lift-does-the-work" class="step" data-x="-22000" data-y="14000">
    Then Lift does the work...
    <ul class="bulleted">
      <li>calls your code to re-render the page</li>
      <li>diffs the tree against the previous render</li>
      <li>pushs a small json representation of the patches to apply</li>
      <li>updates the DOM in place with a few small javascript functions</li>
    </ul>
  </div>

  <div id="remember-progressive-enhancement" class="step" data-x="-22000" data-y="16000">
    <div>Remember progressive enhancement?</div>
    <div>It's a POST if the JS never shows up, or is disabled</div>
    <div>The <span class="code">form</span> element is converted into an ajax call if JS available</div>
  </div>

  <div id="happy-path" class="step" data-x="-22000" data-y="18000">
    It's the usual story of Lift's happy path leading the developer to the best solution
  </div>

  <div id="but" class="step" data-x="-27000" data-y="18000">
    <div>BUT!!!</div>
    <div>It's not ready yet...</div>
  </div>

  <div id="wip" class="step" data-x="-27000" data-y="16000">
    Britany Meadows (@letbritcode) and I believe we can have it done for Lift 3.1
  </div>

  <div id="solid" class="step" data-x="-30000" data-y="18000">
    <div>What we have thus far is solid...</div>
    <ul class="bulleted">
      <li>HtmlUnit for testing the JavaScript</li>
      <li>Generative property tests for generating the cases</li>
      <li>Can't yet handle multiple mutations reliably</li>
    </ul>
  </div>

  <div id="why-now" class="step" data-x="-30000" data-y="16000">
    <div>So why a talk right now when it's not ready?</div>
  </div>

  <div id="uncle-sam" class="step img-only centered" data-x="-22000" data-y="16000" data-z="2000">
    <img src="images/contribute.jpg">
  </div>

  <div id="help" class="step" data-x="-22000" data-y="14000" data-z="2000">
    <div>Ways to help:</div>
    <div>Holla!<a href="https://twitter.com/joescii">@joescii</a></div>
    <div><a href="https://groups.google.com/forum/#!topic/liftweb/2B2fzK1touc">Discuss the idea</a></div>
    <div><a href="https://github.com/lift/framework/tree/joe-vdom">Play with the code</a></div>
    <div><a href="https://github.com/joescii/lift-vdom-chat">Play with the sample application</a></div>
  </div>

  

  <div id="credits" class="step" data-x="-12000" data-y="10000" data-z="4000">
    <div>Credits</div>
    <div>Apocalypse painting: http://pierremassine.deviantart.com/art/Apocalypse-2-145369654</div>
    <div>Firefox browser: https://5t3ph.files.wordpress.com/2009/03/vectorfirefoxbrowser.jpg</div>
    <div>Cloud server: http://www.pngall.com/wp-content/uploads/2016/04/Cloud-Server-Free-PNG-Image.png</div>
    <div>Google fiber: Google Images found it in https://www.youtube.com/watch?v=elIJjFcV230</div>
    <div>MacBook Pro: http://www.cultofmac.com/268822/apple-finally-discontinue-non-retina-macbook-pro-year-rumor/</div>
    <div>Crazy wiring: Google Images found it in https://www.reddit.com/r/news/comments/47udya/after_man_built_dozens_of_tiny_houses_for_the/</div>
    <div>Flight wifi: http://arstechnica.com/business/2011/06/in-flight-internet-the-view-from-35000-feet-and-three-years/</div>
    <div>Blackberry: http://us.blackberry.com/software.html</div>
    <div>Client-side complexity was tweeted by @sstephenson</div>
    <div>Runar: Google Images found it in https://www.youtube.com/watch?v=GqmsQeSzMdw</div>
    <div>Michael Scott NO!: https://memegenerator.net/instance/37308948</div>
    <div>Earth on fire: http://1888.org/images/2012/09/21/9028/fire-on-earth.jpg</div>
    <div>Scala.js: https://jaxenter.com/interview-compiling-scala-to-javascript-with-scala-js-107247.html</div>
    <div>Flash: Google Images found it in http://wccftech.com/adobe-fix-flash-hacking-team/</div>
    <div>Java Applet: http://www.enviromath.com/AppletInformation.htm</div>
    <div>Walmart Fight: https://lh6.googleusercontent.com/-vwvqFdqePBM/UpibcMla1lI/AAAAAAAAn1I/Uo0N3DqCzPI/w434-h368-no/Untitled.gif</div>
    <div>Amazon shopping: I did those screen shots</div>
    <div>Mind-blown: http://www.reactiongifs.com/wp-content/uploads/2011/09/mind_blown.gif</div>
    <div>Sponge-bob: I created it at https://imgflip.com/i/1d8vti</div>
    <div>Uncle Sam: I created it at https://imgflip.com/i/1d8xbn</div>
  </div>

</div>

<div data-lift="IfAudience"><div data-lift="embed?what=slide-controls"></div></div>

<script src="js/highlight.min.js"></script>
<script src="js/scala.min.js"></script>
<script id="jquery" src="/classpath/jquery.js" type="text/javascript"></script>
<script src="js/impress.js"></script>
<div data-lift="IfAudience">
  <div data-lift="comet?type=PresentationComet"></div>
  <div data-lift="PresentationState"></div>
</div>
<script data-lift="IfAudience" src="js/impress-client.js"></script>
<script data-lift="Presenter"></script>
<script data-lift="IfPresenter" src="js/impress-presenter.js"></script>
<script>impress().init();hljs.initHighlightingOnLoad();</script>

</body>
</html>



